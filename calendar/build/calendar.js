!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.calendar=t():e.calendar=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){var n=r(1);"string"==typeof n&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1};r(3)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(2)(!1)).push([e.i,".ui-datepicker-wrapper {\r\n  font-family: 'Microsoft YaHei';\r\n  background: #fff;\r\n  position: absolute;\r\n  z-index: 10;\r\n  width: 300px;\r\n  font-size: 16px;\r\n  color: #666;\r\n  box-shadow: 1px 1px 3px 1px #d1e5f9;\r\n  height: 0;\r\n  opacity: 0;\r\n  transition: all .4s;\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n}\r\n\r\n.ui-datepicker-wrapper.active {\r\n  height: 359px;\r\n  opacity: 1;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header {\r\n  text-align: center;\r\n  background: #409eff;\r\n  border-bottom: 1px solid #ccc;\r\n  box-sizing: border-box;\r\n  vertical-align: middle;\r\n  height: 50px;\r\n  position: relative;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header .ui-datepicker-curr-month {\r\n  line-height: 50px;\r\n  height: 50px;\r\n  font-weight: bold;\r\n  display: inline-block;\r\n  color: #fff;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header .ui-datepicker-btn {\r\n  position: absolute;\r\n  top: 15px;\r\n  box-sizing: border-box;\r\n  font-size: 12px;\r\n  color: #fff;\r\n  text-align: center;\r\n  width: 35px;\r\n  line-height: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header .ui-datepicker-btn.ui-datepicker-prev-year-btn {\r\n  left: 10px;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header .ui-datepicker-btn.ui-datepicker-prev-month-btn {\r\n  left: 55px;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header .ui-datepicker-btn.ui-datepicker-next-year-btn {\r\n  right: 10px;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header .ui-datepicker-btn.ui-datepicker-next-month-btn {\r\n  right: 55px;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-header .ui-datepicker-btn:hover {\r\n  background: #350fb9;\r\n  color: #fff;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body .ui-datepicker-date {\r\n  width: 14%;\r\n  box-sizing: border-box;\r\n  border-right: 1px solid #f0f0f0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  font-size: 10px;\r\n  width: 14.28%;\r\n  cursor: pointer;\r\n  height: 43px;\r\n  line-height: 43px;\r\n  text-align: center;\r\n  position: relative;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body .ui-datepicker-date.not-this-month {\r\n  color: #e8d6d6;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body .ui-datepicker-date:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body .ui-datepicker-date span {\r\n  display: inline-block;\r\n  color: white;\r\n  width: 25px;\r\n  line-height: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body .ui-datepicker-date span.today {\r\n  background: #f9624a;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body .ui-datepicker-date span.special {\r\n  background: #409eff;\r\n}\r\n\r\n.ui-datepicker-wrapper .ui-datepicker-body .ui-datepicker-th {\r\n  border-bottom: 1px solid #f0f0f0;\r\n  width: 14.28%;\r\n  font-size: 12px;\r\n  line-height: 50px;\r\n  height: 50px;\r\n  text-align: center;\r\n}\r\n",""])},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(o=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),a=n.sources.map(function(e){return"/*# sourceURL=".concat(n.sourceRoot).concat(e," */")});return[r].concat(a).concat([i]).join("\n")}var o,c,u;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(r,"}"):r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(n[a]=!0)}for(var o=0;o<e.length;o++){var c=e[o];null!=c[0]&&n[c[0]]||(r&&!c[2]?c[2]=r:r&&(c[2]="(".concat(c[2],") and (").concat(r,")")),t.push(c))}},t}},function(e,t,r){"use strict";var n,i={},a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}();function c(e,t){for(var r=[],n={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],c={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(c):r.push(n[o]={id:o,parts:[c]})}return r}function u(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=i[n.id],o=0;if(a){for(a.refs++;o<a.parts.length;o++)a.parts[o](n.parts[o]);for(;o<n.parts.length;o++)a.parts.push(v(n.parts[o],t))}else{for(var c=[];o<n.parts.length;o++)c.push(v(n.parts[o],t));i[n.id]={id:n.id,refs:1,parts:c}}}}function d(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var n=r.nc;n&&(e.attributes.nonce=n)}if(Object.keys(e.attributes).forEach(function(r){t.setAttribute(r,e.attributes[r])}),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,p=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function l(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=p(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}var f=null,h=0;function v(e,t){var r,n,i;if(t.singleton){var a=h++;r=f||(f=d(t)),n=l.bind(null,r,a,!1),i=l.bind(null,r,a,!0)}else r=d(t),n=function(e,t,r){var n=r.css,i=r.media,a=r.sourceMap;if(i&&e.setAttribute("media",i),a&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a());var r=c(e,t);return u(r,t),function(e){for(var n=[],a=0;a<r.length;a++){var o=r[a],d=i[o.id];d&&(d.refs--,n.push(d))}e&&u(c(e,t),t);for(var s=0;s<n.length;s++){var p=n[s];if(0===p.refs){for(var l=0;l<p.parts.length;l++)p.parts[l]();delete i[p.id]}}}}},function(e,t,r){"use strict";r.r(t);r(0);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i={create:function(e,t){var r=document.createElement("template");r.innerHTML=e.trim();var n=r.content.firstChild;return t&&this.append(n,t),n},append:function(e,t){t.length||(t=[t]);for(var r=0;r<t.length;r++)e.appendChild(t[r]);return e}};function a(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function o(e){return e<=9?"0".concat(e):e+""}function c(e){return"object"===n(e)&&null!==e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"aname",function(){return s});var d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initData(t,r),this.checkOptions(),this.initHtml(),this.update(),this.bindEvent()}var t,r,n;return t=e,(r=[{key:"checkOptions",value:function(){if(!this.el)throw new Error("element is required");return this}},{key:"initData",value:function(e,t){this._initDate(),this.options=Object.assign({},{active:"active",today:"today",special:"special"},t),this.el="string"==typeof e?document.querySelector(e):e}},{key:"_initDate",value:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n="".concat(t).concat(o(r+1)).concat(o(e.getDate()));this.cur={year:t,month:r,today:n}}},{key:"initHtml",value:function(){this.initStaticHtml(),this.initDynamicHtml()}},{key:"initStaticHtml",value:function(){var t=i.create('<div class= "ui-datepicker-wrapper"></div>'),r='\n      <div class="ui-datepicker-header">\n        <a href="#" class="ui-datepicker-btn '.concat(e.PREVY,' ui-datepicker-prev-year-btn">上年</a>\n        <a href="#" class="ui-datepicker-btn ').concat(e.PREVM,' ui-datepicker-prev-month-btn">上月</a>\n        <a href="#" class="ui-datepicker-btn ').concat(e.NEXTM,' ui-datepicker-next-year-btn">下年</a>\n        <a href="#" class="ui-datepicker-btn ').concat(e.NEXTY,' ui-datepicker-next-month-btn">下月</a>\n        <span class="ui-datepicker-curr-month">2019年11月</span>\n      </div>\n      <div class="ui-datepicker-body">\n        <div class="ui-datepicker-th">日</div>\n        <div class="ui-datepicker-th">一</div>\n        <div class="ui-datepicker-th">二</div>\n        <div class="ui-datepicker-th">三</div>\n        <div class="ui-datepicker-th">四</div>\n        <div class="ui-datepicker-th">五</div>\n        <div class="ui-datepicker-th">六</div>\n      </div>\n    ');t.innerHTML=r.trim(),document.body.appendChild(t),this.wrapper=t}},{key:"initDynamicHtml",value:function(){for(var t=e.ROWS,r=e.COLS,n=[],a=this.wrapper.querySelector(e.BODY),o=0;o<t;o++)for(var c=0;c<r;c++){var u=i.create('<div class="ui-datepicker-date"></div>');a.appendChild(u),n.push(u)}this.dateDivs=n}},{key:"setCalendarPos",value:function(){var e=this.wrapper,t=this.el,r=t.offsetLeft,n=t.offsetTop,i=t.clientHeight,a=e.clientWidth,o=window.innerWidth;e.style.left=r+a<o?r+"px":r-(r+a-o)+"px",e.style.top=n+i+5+"px"}},{key:"bindEvent",value:function(){var t=this;this.el.addEventListener("click",function(e){t.setCalendarPos(),a(t.wrapper,"active")}),this.wrapper.addEventListener("click",function(r){var n=t.cur.month,i=r.target;if(i.matches(e.DATE)||i.matches("".concat(e.DATE," span")))return t.el.value=t.renderCurDate()+"-"+i.getAttribute("date"),void a(t.wrapper,"active");i.matches(e.PREVM)?n-1<0?(t.cur.year--,t.cur.month=11):t.cur.month--:i.matches(e.PREVY)?t.cur.year--:i.matches(e.NEXTM)?n+1>=12?(t.cur.month=0,t.cur.year++):t.cur.month++:i.matches(e.NEXTY)&&t.cur.year++,t.update()})}},{key:"update",value:function(){this.renderCalendar(),this.renderCurDate()}},{key:"renderCurDate",value:function(){var t=this.cur,r="".concat(t.year,"-").concat(o(t.month+1));return this.wrapper.querySelector(e.CUR).innerHTML=r,r}},{key:"renderCalendar",value:function(){for(var t=this.renderData(),r=this.dateDivs,n=e.ROWS,i=e.COLS,a=0;a<n;a++)for(var o=0;o<i;o++){var c=a*i+o,u=t[a][o],d=r[c];d.className=e.DATE.substr(1),u.class&&d.classList.add(u.class),u.desc&&d.setAttribute("title",u.desc),u.special?d.innerHTML="<span date='".concat(u.date,"' class='special'>").concat(u.date,"</span>"):u.today?d.innerHTML="<span date='".concat(u.date,"' class='today'>今</span>"):d.innerHTML=u.date,d.setAttribute("date",u.date)}}},{key:"renderData",value:function(){var e=this._getDateInfo(),t=e.last,r=e.current,n=[[],[],[],[],[],[]];return this._getLastMonthDate(n,t),this._getThisMonthDate(n,r),this._getNextMonthDate(n),n}},{key:"_getLastMonthDate",value:function(e,t){for(var r=t.day,n=t.date,i=0;i<=r;i++){var a=n-r+i;e[0][i]={date:a,class:"not-this-month"}}}},{key:"_getThisMonthDate",value:function(t,r){for(var n=this.cur,i=this.options.special,a=o(n.month+1),u=e.ROWS,d=e.COLS,s=1,p=0;p<u;p++)for(var l=0;l<d;l++)if(s<=r.date&&!c(t[p][l])){var f=a+o(s);t[p][l]={date:s,today:n.year+""+f===n.today},i[f]&&(t[p][l].special=!0,t[p][l].desc=i[f]),s++}}},{key:"_getNextMonthDate",value:function(t){for(var r=e.ROWS,n=e.COLS,i=1,a=r-2;a<r;a++)for(var o=0;o<n;o++)c(t[a][o])||(t[a][o]={date:i,class:"not-this-month"},i++)}},{key:"_getDateInfo",value:function(){var e=this.cur,t=e.year,r=e.month;return{last:this._getLastMonthInfo(t,r),current:this._getThisMonthInfo(t,r)}}},{key:"_getLastMonthInfo",value:function(e,t){var r=new Date(e,t,0);return{date:r.getDate(),day:r.getDay()}}},{key:"_getThisMonthInfo",value:function(e,t){var r=new Date(e,t+1,0);return{date:r.getDate(),day:r.getDay()}}}])&&u(t.prototype,r),n&&u(t,n),e}();d.ROWS=6,d.COLS=7,d.PREVM=".ui-datepicker-prev-month-btn",d.PREVY=".ui-datepicker-prev-year-btn",d.NEXTM=".ui-datepicker-next-month-btn",d.NEXTY=".ui-datepicker-next-year-btn",d.CUR=".ui-datepicker-curr-month",d.BODY=".ui-datepicker-body",d.DATE=".ui-datepicker-date";t.default=d;var s="jarvis";"undefined"!=typeof window&&(window.Calendar=d)}])});